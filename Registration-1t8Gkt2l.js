import{r as O,s as F,f as E,c as P,a as o,j as n,b as M,F as I,d as j,E as k,P as B,i as L,u as $,e as _,g as A,h as V,k as z,l as D,m as W}from"./index-MwMWWxTc.js";import{M as T}from"./index-ZY2WwOmU.js";const H=e=>({name:e.name,email:e.email,password:e.password}),q=e=>{let t={};(!e.name||e.name.trim().length<2||e.name.trim().length>16)&&(t={...t,name:"Please enter a name with at least 2 characters."});const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return(!e.email||!a.test(e.email.trim()))&&(t={...t,email:"Please enter a valid email address."}),(!e.password||e.password.trim().length<7)&&(t={...t,password:"Password should be at least 7 characters long."}),t},G=(e,t)=>{const a=q(e);if(Object.keys(a).length===0){const r=H(e);t(O(r)),t(F(!0))}else return E(),t(P(!1)),a};var U={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function J(e){if(typeof e=="number")return{value:e,unit:"px"};var t,a=(e.match(/^[0-9.]*/)||"").toString();a.includes(".")?t=parseFloat(a):t=parseInt(a,10);var r=(e.match(/[^0-9]*$/)||"").toString();return U[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function b(e){var t=J(e);return"".concat(t.value).concat(t.unit)}var K=function(e,t,a){var r="react-spinners-".concat(e,"-").concat(a);if(typeof window>"u"||!window.document)return r;var s=document.createElement("style");document.head.appendChild(s);var i=s.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(t,`
    }
  `);return i&&i.insertRule(l,0),r},f=function(){return f=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},f.apply(this,arguments)},Q=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]]);return a},X=K("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");function Y(e){var t=e.loading,a=t===void 0?!0:t,r=e.color,s=r===void 0?"#000000":r,i=e.speedMultiplier,l=i===void 0?1:i,d=e.cssOverride,g=d===void 0?{}:d,h=e.size,u=h===void 0?15:h,x=e.margin,p=x===void 0?2:x,v=Q(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),y=f({display:"inherit"},g),c=function(m){return{backgroundColor:s,width:b(u),height:b(u),margin:b(p),borderRadius:"100%",display:"inline-block",animation:"".concat(X," ").concat(.75/l,"s ").concat(m*.12/l,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return a?o.createElement("span",f({style:y},v),o.createElement("span",{style:c(1)}),o.createElement("span",{style:c(2)}),o.createElement("span",{style:c(3)})):null}const w=({isLoading:e,onClick:t,text:a,timeRemaining:r,resended:s})=>{const i=`shadow-none hover:bg-buttonHoverColorDark 
  text-buttonTextColorDark rounded-md 
  bg-buttonColorDark  ${M}`;return n.jsx("button",{id:"reg-btn",type:"submit",disabled:e,onClick:t,className:i,children:e?n.jsx(Y,{color:"#3f78cc ",size:"6px"}):n.jsxs(n.Fragment,{children:[" ",n.jsx(n.Fragment,{children:s?`${r} sec`:a})]})})},Z=({windowSize:e})=>{const[t,a]=o.useState(!1),r=()=>{a(l=>!l)},s=` ${e.height>460?"md3:mt-9":"md3:mt-2"}  mt-10 w-full max-w-[500px] mx-auto flex relative 1xl2:mt-3 font-montserrat `;return n.jsxs("div",{className:s,children:[n.jsx("input",{className:` border-none checked:bg-blue-700
   bg-blue-950 mr-4 mt-0.5   appearance-none rounded border
   checked:border-transparent focus:outline-none font-montserrat `,style:{flex:"none",width:"24px",height:"24px"},name:"user-privacy",type:"checkbox",id:"user-privacy",value:"true",required:!0,checked:t,onChange:r}),t&&n.jsx("span",{className:`absolute top-1 text-darkFontDark left-0.5 
        pointer-events-none p-0.5 w-full`,children:n.jsx(I,{size:16,className:"pointer-events-none"})}),n.jsxs("label",{className:" select-none text-darkFontDark font-medium",htmlFor:"user-privacy",children:["I accept the terms and conditions of the"," ",n.jsx("span",{className:"text-blue-400 font-bold ml-2 cursor-pointer",children:"Privacy Policy"})]})]})},ee=({widthClass:e,withInputClass:t,fieldsStyle:a})=>n.jsxs(n.Fragment,{children:[n.jsx("label",{className:`
        ${e}
        mt-6 text-xl text-darkFontDark font-montserrat flex items-center gap-2 md:ml-2 md:w-10/12
      md2:text-sm font-medium sm:mt-1`,htmlFor:"user-name",children:"Name"}),n.jsx(j,{className:a,type:"text",name:"name",id:"name",max:16,placeholder:"Antonio Balambino"}),n.jsx("div",{className:"text-sm h-4 w-full text-center -mt-2",children:n.jsx(k,{className:" text-errorMsg",name:"name",component:"p"})}),n.jsx("label",{className:`
         ${t}
        mt-2 text-xl flex text-darkFontDark items-center gap-2 md:ml-2 
      md2:text-sm font-medium sm:mt-1 font-montserrat `,htmlFor:"user-email",children:"Email"}),n.jsx(j,{className:a,type:"email",name:"email",id:"email",placeholder:"Balambino@mail.com",required:!0}),n.jsx("div",{className:"text-sm h-4 w-full text-center -mt-2",children:n.jsx(k,{className:"font-montserrat text-errorMsg",name:"email",component:"p"})})]}),te=({windowSize:e})=>{const t=e.height>460?"md3:mt-2":"md3:mt-0",a=e.height>460?"md3:mt-2":"md3:mt-0",r=` text-slate-200 bg-sky-900 placeholder:text-darkFontDark  ${L}`;return n.jsxs(n.Fragment,{children:[n.jsx(ee,{widthClass:t,withInputClass:a,fieldsStyle:r}),n.jsx(B,{withInputClass:a,fieldsStyle:r,labelText:"Password"})]})},ne={name:"",email:"",password:"",confirmPassword:""},ie=()=>{const[e,t]=o.useState({width:window.innerWidth,height:window.innerHeight}),a=$(),{isRefreshing:r,isVerifyModalOpen:s,user:i}=_(),[l,d]=o.useState(!1),[g,h]=o.useState(30),u=()=>{t({width:window.innerWidth,height:window.innerHeight})},x=()=>{d(!0),a(D({email:i.email}));const c=setInterval(()=>{h(m=>m===0?(clearInterval(c),d(!1),30):m-1)},1e3)},p=()=>{a(F(!1))};o.useEffect(()=>(window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}),[]);const v=async(c,{resetForm:m})=>{const{name:N,email:S,password:C}=c,R={name:N.trim(),email:S.trim(),password:C.trim()};G(R,a)||m()},y=` 
     shadow-shadowBoxDark from-smallWraperGradient1Dark
     to-smallWraperGradient2Dark  ${W} `;return n.jsxs(n.Fragment,{children:[n.jsxs(T,{open:s,onCancel:p,footer:null,children:[n.jsx("h1",{className:" text-3xl text-center mb-8",children:"Registration is succes"}),n.jsx("p",{className:"text-lg text-center",children:"Before start you should verify email"}),n.jsx("p",{className:"mt-3 text-lg text-center",children:i.email}),n.jsxs("div",{className:"flex mt-12",children:[n.jsx(w,{isLoading:r,onClick:p,text:"Accept"}),n.jsx(w,{text:"Resent Email",isLoading:r,onClick:x,resended:l,timeRemaining:g})]})]}),n.jsx(A,{initialValues:ne,validationSchema:V,onSubmit:v,validateOnChange:!1,validateOnBlur:!1,children:n.jsxs(z,{autoComplete:"off",className:y,children:[n.jsx("h1",{className:`text-center text-3xl m-0 md:text-2xl
         md2:text-2xl font-medium mt-2 text-darkFontDark font-montserrat`,children:"Registration"}),n.jsx(te,{windowSize:e}),n.jsx(Z,{windowSize:e}),n.jsx(w,{isLoading:r,text:"Registration"})]})})]})};export{ie as default};
