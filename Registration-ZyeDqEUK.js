import{r as S,f as E,c as P,j as e,P as $,a as w,b as d,F as B,d as g,E as p,e as I,i as D,u as M,g as z,s as m,h as L,k as V,l as A,m as O,n as T,o as W,p as H}from"./index-91xIYj0N.js";import{M as q}from"./index-Sk2i9lmT.js";const G=t=>({name:t.name,email:t.email,password:t.password}),U=t=>{let n={};(!t.name||t.name.trim().length<2||t.name.trim().length>16)&&(n={...n,name:"Please enter a name with at least 2 characters."});const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return(!t.email||!s.test(t.email.trim()))&&(n={...n,email:"Please enter a valid email address."}),(!t.password||t.password.trim().length<7)&&(n={...n,password:"Password should be at least 7 characters long."}),n},J=(t,n)=>{const s=U(t);if(Object.keys(s).length===0){const a=G(t);n(S(a))}else return E(),n(P(!1)),s},b=({isLoading:t,onClick:n,text:s,timeRemaining:a,resended:i})=>{const r=`shadow-none hover:bg-buttonHoverColorDark 
  text-buttonTextColorDark rounded-md 
  bg-buttonColorDark  font-semibold ${w}`;return e.jsx("button",{id:"reg-btn",type:"submit",disabled:t,onClick:n,className:r,children:t?e.jsx($,{color:"#3f78cc ",size:"6px"}):e.jsxs(e.Fragment,{children:[" ",e.jsx(e.Fragment,{children:i?`${a} sec`:s})]})})},K=({windowSize:t})=>{const[n,s]=d.useState(!1),a=()=>{s(c=>!c)},i=` ${t.height>460?"md3:mt-9":"md3:mt-2"}  mt-10 w-full max-w-[500px] mx-auto flex relative 1xl2:mt-3 font-montserrat `;return e.jsxs("div",{className:i,children:[e.jsx("input",{className:` border-none checked:bg-blue-700
   bg-blue-950 mr-4 mt-0.5   appearance-none rounded border
   checked:border-transparent focus:outline-none font-montserrat `,style:{flex:"none",width:"24px",height:"24px"},name:"user-privacy",type:"checkbox",id:"user-privacy",value:"true",required:!0,checked:n,onChange:a}),n&&e.jsx("span",{className:`absolute top-1 text-darkFontDark left-0.5 
        pointer-events-none p-0.5 w-full`,children:e.jsx(B,{size:16,className:"pointer-events-none"})}),e.jsxs("label",{className:" select-none text-darkFontDark font-medium",htmlFor:"user-privacy",children:["I accept the terms and conditions of the"," ",e.jsx("span",{className:"text-blue-400 font-bold ml-2 cursor-pointer",children:"Privacy Policy"})]})]})},Q=({widthClass:t,withInputClass:n,fieldsStyle:s})=>e.jsxs(e.Fragment,{children:[e.jsx("label",{className:`
        ${t}
        mt-6 text-xl text-darkFontDark font-montserrat flex items-center gap-2 md:ml-2 md:w-10/12
      md2:text-sm font-medium sm:mt-1`,htmlFor:"user-name",children:"Name"}),e.jsx(g,{className:s,type:"text",name:"name",id:"name",max:16,placeholder:"Antonio Balambino"}),e.jsx("div",{className:"text-sm h-4 w-full text-center -mt-2",children:e.jsx(p,{className:" text-errorMsg",name:"name",component:"p"})}),e.jsx("label",{className:`
         ${n}
        mt-2 text-xl flex text-darkFontDark items-center gap-2 md:ml-2 
      md2:text-sm font-medium sm:mt-1 font-montserrat `,htmlFor:"user-email",children:"Email"}),e.jsx(g,{className:s,type:"email",name:"email",id:"email",placeholder:"Balambino@mail.com",required:!0}),e.jsx("div",{className:"text-sm h-4 w-full text-center -mt-2",children:e.jsx(p,{className:"font-montserrat text-errorMsg",name:"email",component:"p"})})]}),X=({windowSize:t})=>{const n=t.height>460?"md3:mt-2":"md3:mt-0",s=t.height>460?"md3:mt-2":"md3:mt-0",a=` text-slate-200 bg-sky-900 placeholder:text-darkFontDark  ${D}`;return e.jsxs(e.Fragment,{children:[e.jsx(Q,{widthClass:n,withInputClass:s,fieldsStyle:a}),e.jsx(I,{withInputClass:s,fieldsStyle:a,labelText:"Password"})]})},Y={name:"",email:"",password:"",confirmPassword:""},te=()=>{const[t,n]=d.useState({width:window.innerWidth,height:window.innerHeight}),s=M(),{isRefreshing:a,isVerifyModalOpen:i,user:r,resended:c}=z(),[o,j]=d.useState(30),h=()=>{n({width:window.innerWidth,height:window.innerHeight})},k=()=>{if(!r.email)return;s(m(!0)),s(O({email:r.email}));const x=setInterval(()=>{j(l=>l===0?(clearInterval(x),s(m(!1)),30):l-1)},1e3)};o<30&&a&&s(m(!1));const u=()=>{s(T(!1)),s(m(!1))};d.useEffect(()=>(window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}),[]);const y=async(x,{resetForm:l})=>{const{name:C,email:f,password:F}=x;s(W(f)),console.log(r.email);const R={name:C.trim(),email:f.trim(),password:F.trim()};J(R,s)||l()},v=` 
     shadow-shadowBoxDark from-smallWraperGradient1Dark
     to-smallWraperGradient2Dark  ${H} `,N=`shadow-none hover:bg-buttonHoverColorDark 
  text-buttonTextColorDark rounded-md  font-montserrat font-semibold
  bg-buttonColorDark  disabled:opacity-50  ${w}`;return e.jsxs(e.Fragment,{children:[e.jsxs(q,{open:i,onCancel:u,footer:null,children:[e.jsx("h1",{className:" text-3xl text-center font-montserrat mb-8",children:"Registration is succes"}),e.jsx("p",{className:"text-lg text-center font-montserrat ",children:"Before start you should verify email"}),e.jsx("p",{className:"mt-3 text-lg text-center font-montserrat ",children:r.email}),e.jsxs("div",{className:"flex mt-8 mb-4 items-center justify-center gap-2",children:[e.jsx(b,{isLoading:a,onClick:u,text:"Accept",timeRemaining:o}),e.jsx("button",{id:"reg-btn-resend",type:"button",onClick:k,disabled:!!(c||o<30),className:N,children:o<30?`${o} sec`:"Resend"})]})]}),e.jsx(L,{initialValues:Y,validationSchema:V,onSubmit:y,validateOnChange:!1,validateOnBlur:!1,children:e.jsxs(A,{autoComplete:"off",className:v,children:[e.jsx("h1",{className:`text-center text-3xl m-0 md:text-2xl
         md2:text-2xl font-medium mt-2 text-darkFontDark font-montserrat`,children:"Registration"}),e.jsx(X,{windowSize:t}),e.jsx(K,{windowSize:t}),e.jsx(b,{isLoading:a,text:"Registration",timeRemaining:o})]})})]})};export{te as default};
